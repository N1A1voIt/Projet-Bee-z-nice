<div class="w-full h-[75px] flex items-center relative">
    <button
        class="bg-black w-auto h-[50px] p-2 rounded absolute right-2 text-white"
        (click)="showForm = !showForm; isUpdate = false"
    >
        Add a new element
    </button>
</div>
<app-modal-component [showForm]="showForm">
    <form
        class="flex flex-col w-5/6 justify-center align-middle"
        action="javascript:void(0)"
        #form="ngForm"
        (ngSubmit)="onSubmit(form)"
    >
        <input *ngIf="isUpdate" type="hidden" name="id" [(ngModel)]="idValue" />
        <n-input name="Payment">
            <select name="paymenttypeid" [(ngModel)]="paymenttypeidValue">
                <option
                    *ngFor="let item of listModeofpayment"
                    value="{{ item.id }}"
                >
                    {{ item.name }}
                </option>
            </select>
        </n-input>
        <n-input name="Dishe">
            <select name="iddishes" [(ngModel)]="iddishesValue">
                <option *ngFor="let item of listDishes" value="{{ item.id }}">
                    {{ item.dishesname }}
                </option>
            </select>
        </n-input>
        <n-input name="Customer">
            <select name="customerid" [(ngModel)]="customeridValue">
                <option
                    *ngFor="let item of listCustomers"
                    value="{{ item.id }}"
                >
                    {{ item.mail }}
                </option>
            </select>
        </n-input>
        <n-input name="Time">
            <input
                name="ordertime"
                placeholder="Time"
                type="datetime-local"
                [(ngModel)]="ordertimeValue"
            />
        </n-input>
        <n-input name="Price">
            <input
                name="disheprice"
                placeholder="Price"
                type="number"
                [(ngModel)]="dishepriceValue"
            />
        </n-input>
        <n-input name="Purchase">
            <input
                name="dishepurchaseprice"
                placeholder="Purchase"
                type="number"
                [(ngModel)]="dishepurchasepriceValue"
            />
        </n-input>
        <n-input name="ToHide">
            <select name="idaddtocart" [(ngModel)]="idaddtocartValue">
                <option
                    *ngFor="let item of listAddtocart"
                    value="{{ item.id }}"
                >
                    {{ item.quantity }}
                </option>
            </select>
        </n-input>
        <app-submit-button></app-submit-button>
    </form>
    <br /></app-modal-component
><n-table>
    <thead
        class="text-xs font-semibold tracking-wide text-left text-gray-500 uppercase border-b dark:border-gray-700 bg-gray-50 dark:text-gray-400 dark:bg-gray-800"
    >
        <tr>
            <th class="px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">id</th>
            <th class="px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">name</th>
            <th class="px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">dishesname</th>
            <th class="px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">mail</th>
            <th class="px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">ordertime</th>
            <th class="px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">disheprice</th>
            <th class="px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">dishepurchaseprice</th>
            <th class="px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">quantity</th>
        </tr>
    </thead>
    <tbody class="bg-white divide-y dark:divide-gray-700 dark:bg-gray-800">
        <tr
            class="text-gray-700 dark:text-gray-400"
            *ngFor="
                let line of all
                    | paginate : { itemsPerPage: 10, currentPage: pages }
            "
        >
            <td class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 ">{{ line.id }}</td>
            <td class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 ">{{ line.name }}</td>
            <td class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 ">{{ line.dishesname }}</td>
            <td class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 ">{{ line.mail }}</td>
            <td class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 ">{{ line.ordertime }}</td>
            <td class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 ">{{ line.disheprice }}</td>
            <td class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 ">{{ line.dishepurchaseprice }}</td>
            <td class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 ">{{ line.quantity }}</td>
            <td class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 ">
                <button (click)="delete(line.id)">Supprimer</button>
            </td>
            <td class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 ">
                <button (click)="update(line.id); showForm = !showForm">
                    Update
                </button>
            </td>
        </tr>
    </tbody>
</n-table>

<div>
    <pagination-controls (pageChange)="pages = $event"></pagination-controls>
</div>
